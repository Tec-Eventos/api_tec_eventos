const imageUserService=require("../services/imageUserServices"),uploadImage=async(e,a,o)=>{try{console.log("Chamada para uploadImage");const{rm_aluno:o}=e.body,r=e.file.filename;if(console.log("Campos recebidos:",{rm_aluno:o,imageName:r}),!o||!r)throw console.error("Erro: Campos faltando na requisição."),new Error("Missing required data for image upload");await imageUserService.uploadImageUser(o,r),console.log("Imagem enviada com sucesso."),a.status(200).json({message:`Successfully created image with rm_aluno: ${o}`})}catch(e){console.error("Erro durante o processo:",e.message),o(e)}};module.exports={uploadImage:uploadImage};