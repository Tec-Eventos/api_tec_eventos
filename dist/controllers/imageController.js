const imageService=require("../services/imageService"),uploadImage=async(e,o,a)=>{try{console.log("Chamada para uploadImage");const{cd_evento:a,principal:r,logo_evento:s}=e.body,i=e.file.filename;if(console.log("Campos recebidos:",{cd_evento:a,imageName:i,principal:r,logo_evento:s}),!(a&&i&&r&&s))throw console.error("Erro: Campos faltando na requisição."),new Error("Missing required data for image upload");await imageService.uploadImageToDatabase(a,i,r,s),console.log("Imagem enviada com sucesso."),o.status(200).json({message:`Successfully created image with cd_evento: ${a}`})}catch(e){console.error("Erro durante o processo:",e.message),a(e)}};module.exports={uploadImage:uploadImage};